{"version":3,"file":"index-of-newline.js","sources":["../../src/index.ts"],"sourcesContent":["/**\n * Find indexOf CR, LF, or CRLF\n *\n * @param string The search string\n * @param offset The offset for searching\n * @param includeLength Include the length in the return value\n * @returns When includeLength is true, returns a pair of [offset, length] to provide the length of CR (1), LF (1) or CRLF (2)\n */\nexport default function indexOfNewline(string: string, offset = 0, includeLength = false): number | number[] {\n  if (offset < 0) throw new Error('Unexpected negative offset');\n  if (offset > string.length) throw new Error(`Offset is longer than the string. Offset: ${offset}. String: ${string.length}`);\n\n  while (offset < string.length) {\n    const value = string[offset];\n    if (value === '\\n') return includeLength ? [offset, 1] : offset;\n    if (value === '\\r') {\n      return includeLength ? [offset, string[offset + 1] === '\\n' ? 2 : 1] : offset;\n    }\n    offset++;\n  }\n  return includeLength ? [-1, 0] : -1;\n}\n"],"names":["indexOfNewline","string","offset","includeLength","Error","length","value"],"mappings":";;;;;;EAAA;;;;;;;MAQe,SAASA,cAAAA,CAAeC,MAAc,EAAA;UAAEC,MAAAA,GAAAA,SAAAA,CAAAA,MAAAA,GAAAA,CAAAA,IAAAA,SAAAA,CAAAA,CAAAA,CAAAA,KAAAA,KAAAA,CAAAA,GAAAA,SAAAA,CAAAA,CAAAA,CAAAA,GAAS,CAAGC,EAAAA,aAAAA,GAAAA,SAAgB,CAAA,MAAA,GAAA,CAAA,IAAA,SAAA,CAAA,CAAA,CAAA,KAAA,KAAA,CAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAA,KAAA,CAAA;EACjF,IAAA,IAAID,MAAS,GAAA,CAAA,EAAG,MAAM,IAAIE,KAAM,CAAA,4BAAA,CAAA,CAAA;EAChC,IAAA,IAAIF,MAASD,GAAAA,MAAAA,CAAOI,MAAM,EAAE,MAAM,IAAID,KAAAA,CAAM,4CAAC,CAA+DH,MAAnBC,CAAAA,MAAAA,EAAO,YAA0B,CAAA,CAAA,MAAA,CAAdD,OAAOI,MAAM,CAAA,CAAA,CAAA;MAEzH,MAAOH,MAAAA,GAASD,MAAOI,CAAAA,MAAM,CAAE;UAC7B,IAAMC,KAAAA,GAAQL,MAAM,CAACC,MAAO,CAAA,CAAA;UAC5B,IAAII,KAAAA,KAAU,IAAM,EAAA,OAAOH,aAAgB,GAAA;EAACD,YAAAA,MAAAA;EAAQ,YAAA,CAAA;WAAE,GAAGA,MAAAA,CAAAA;EACzD,QAAA,IAAII,UAAU,IAAM,EAAA;EAClB,YAAA,OAAOH,aAAgB,GAAA;EAACD,gBAAAA,MAAAA;EAAQD,gBAAAA,MAAM,CAACC,MAAAA,GAAS,CAAE,CAAA,KAAK,OAAO,CAAI,GAAA,CAAA;eAAE,GAAGA,MAAAA,CAAAA;EACzE,SAAA;EACAA,QAAAA,MAAAA,EAAAA,CAAAA;EACF,KAAA;EACA,IAAA,OAAOC,aAAgB,GAAA;UAAC,CAAC,CAAA;EAAG,QAAA,CAAA;EAAE,KAAA,GAAG,CAAC,CAAA,CAAA;EACpC;;;;;;;;"}